{"ast":null,"code":"var _jsxFileName = \"/home/ram/Desktop/Alliance(HRMS)/Frontend/src/components/Allowance/SalaryAdvance/SalaryAdvanceApprovalForm.jsx\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { main_url, getUserId, getCookieData, getActionStatus } from '../../../utils/CommonFunction';\nexport default class SalaryAdvanceRequestForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      advance_data: getCookieData('salary_advance'),\n      one_advance: [],\n      employee_list: [],\n      selected_employee: [],\n      employee_name: '',\n      department: '',\n      location: '',\n      requested_amount: 0,\n      purpose: '',\n      duration: 0,\n      monthly_installment: 0,\n      approved_amount: 0,\n      verifier_comment: '',\n      sataus: 0,\n      created_user: getUserId(\"user_info=\")\n    };\n  }\n\n  componentDidMount() {\n    if (this.state.advance_data !== null) {\n      this.getSalaryAdvance(this.state.advance_data);\n    } // this.getEmployeeList();\n\n  }\n\n  getSalaryAdvance(data) {\n    fetch(\"\".concat(main_url, \"salary_advance/getOneSalaryAdvance/advance_id=\").concat(data.salary_advance_id)).then(res => res.json()).then(list => {\n      var one = list[0];\n      this.setState({\n        one_advance: one,\n        employee_name: one.employee_name,\n        requested_amount: one.requested_amount,\n        purpose: one.purpose,\n        department: one.department,\n        // selected_employee: { label: one.employee_name, value: one.user_id },\n        location: one.location,\n        salary: one.salary,\n        verifier_comment: one.verifier_comment,\n        approved_amount: one.approved_amount,\n        duration: one.duration,\n        monthly_installment: one.monthly_installment\n      });\n    });\n  }\n\n  getEmployeeList() {\n    fetch(\"\".concat(main_url, \"staff_loan/getEmployeeList\")).then(res => {\n      if (res.ok) return res.json();\n    }).then(list => {\n      this.setState({\n        employee_list: list\n      });\n    });\n  }\n\n  save(action_status) {\n    let createdBy = this.state.created_user;\n    let updatedBy = this.state.created_user;\n    let one_advance = this.state.one_advance;\n    let path = 'saveSalaryAdvance';\n\n    if (!Array.isArray(one_advance)) {\n      createdBy = one_advance.createdBy;\n      path = \"editSalaryAdvance/advance_id=\".concat(one_advance.salary_advance_id);\n    }\n\n    var action = getActionStatus(action_status, one_advance, createdBy);\n    var data = {\n      user_id: one_advance.user_id,\n      requested_amount: this.state.requested_amount,\n      purpose: this.state.purpose,\n      duration: this.state.duration,\n      monthly_installment: this.state.monthly_installment,\n      approved_amount: this.state.approved_amount,\n      verifier_comment: this.state.verifier_comment,\n      createdBy: createdBy,\n      updatedBy: updatedBy,\n      status: action.status,\n      checked_by: action.checked_by,\n      verified_by: action.verified_by,\n      approved_by: action.approved_by,\n      rejected_by: action.rejected_by\n    };\n    let status = 0;\n    fetch(\"\".concat(main_url, \"salary_advance/\").concat(path), {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      method: 'POST',\n      body: \"advance=\".concat(JSON.stringify(data))\n    }).then(res => {\n      status = res.status;\n      return res.text();\n    }).then(text => {\n      if (status === 200) {\n        toast.success(text); // window.location.replace('/staff_loan_repayment');\n      } else toast.error(text);\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container staff_loan main-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, React.createElement(ToastContainer, {\n      position: toast.POSITION.TOP_RIGHT,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"row m-b-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-6 col-lg-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Salary Advance View\")), React.createElement(\"div\", {\n      className: \"col-sm-6 col-lg-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/salary_advance\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-primary title_float_btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"add_new_icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }), \"Back To List\")))), React.createElement(\"div\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-12 col-sm-6 col-lg-6 col-xl-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, \"Employee Name\"), React.createElement(\"input\", {\n      className: \"full_width\",\n      type: \"text\",\n      value: this.state.employee_name,\n      onChange: e => this.setState({\n        employee_name: e.target.value\n      }),\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-12 col-sm-6 col-lg-6 col-xl-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"Department\"), React.createElement(\"input\", {\n      className: \"full_width\",\n      type: \"text\",\n      value: this.state.department,\n      onChange: e => this.setState({\n        requested_amount: e.target.value\n      }),\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row margin-top-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-12 col-sm-6 col-lg-6 col-xl-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, \"Location\"), React.createElement(\"input\", {\n      className: \"full_width\",\n      type: \"text\",\n      value: this.state.location,\n      onChange: e => this.setState({\n        requested_amount: e.target.value\n      }),\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-12 col-sm-6 col-lg-6 col-xl-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, \"Monthly Salary\"), React.createElement(\"input\", {\n      className: \"full_width\",\n      type: \"number\",\n      step: 0.01,\n      min: 0,\n      value: this.state.salary,\n      onChange: e => this.setState({\n        salary: e.target.value\n      }),\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row margin-top-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-12 col-sm-6 col-lg-6 col-xl-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, \"Requested Amount\"), React.createElement(\"input\", {\n      className: \"full_width\",\n      type: \"number\",\n      step: 0.01,\n      min: 0,\n      value: this.state.requested_amount,\n      onChange: e => this.setState({\n        requested_amount: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-12 col-sm-6 col-lg-6 col-xl-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"Approved Amount\"), React.createElement(\"input\", {\n      className: \"full_width\",\n      type: \"number\",\n      step: 0.01,\n      min: 0,\n      value: this.state.approved_amount,\n      onChange: e => this.setState({\n        approved_amount: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row margin-top-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-12 col-sm-6 col-lg-6 col-xl-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }, \"Duration\"), React.createElement(\"input\", {\n      className: \"full_width\",\n      type: \"number\",\n      step: 0.01,\n      min: 0,\n      value: this.state.duration,\n      onChange: e => this.setState({\n        duration: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-12 col-sm-6 col-lg-6 col-xl-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, \"Monthly Installment\"), React.createElement(\"input\", {\n      className: \"full_width\",\n      type: \"number\",\n      step: 0.01,\n      min: 0,\n      value: this.state.monthly_installment,\n      onChange: e => this.setState({\n        monthly_installment: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row margin-top-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-12 col-sm-6 col-lg-6 col-xl-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, \"Purpose\"), React.createElement(\"input\", {\n      className: \"full_width\",\n      type: \"textarea\",\n      value: this.state.purpose,\n      onChange: e => this.setState({\n        purpose: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-12 col-sm-6 col-lg-6 col-xl-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, \"Verifier Comment\"), React.createElement(\"input\", {\n      className: \"full_width\",\n      type: \"textarea\",\n      value: this.state.verifier_comment,\n      onChange: e => this.setState({\n        verifier_comment: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row m-20 f-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn_verified\",\n      onClick: this.save.bind(this, \"verified\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-check\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }), \" Verify By\"), React.createElement(\"button\", {\n      className: \"btn btn_approved\",\n      onClick: this.save.bind(this, \"approved\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-check\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }), \" Approve By\"), React.createElement(\"button\", {\n      className: \"btn btn_reject\",\n      onClick: this.save.bind(this, \"rejected\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-times\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }), \" Rejected By\"))));\n  }\n\n}","map":{"version":3,"sources":["/home/ram/Desktop/Alliance(HRMS)/Frontend/src/components/Allowance/SalaryAdvance/SalaryAdvanceApprovalForm.jsx"],"names":["React","Component","Link","ToastContainer","toast","main_url","getUserId","getCookieData","getActionStatus","SalaryAdvanceRequestForm","constructor","props","state","advance_data","one_advance","employee_list","selected_employee","employee_name","department","location","requested_amount","purpose","duration","monthly_installment","approved_amount","verifier_comment","sataus","created_user","componentDidMount","getSalaryAdvance","data","fetch","salary_advance_id","then","res","json","list","one","setState","salary","getEmployeeList","ok","save","action_status","createdBy","updatedBy","path","Array","isArray","action","user_id","status","checked_by","verified_by","approved_by","rejected_by","headers","method","body","JSON","stringify","text","success","error","render","POSITION","TOP_RIGHT","e","target","value","bind"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { Link } from 'react-router-dom';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { main_url, getUserId, getCookieData, getActionStatus } from '../../../utils/CommonFunction';\n\nexport default class SalaryAdvanceRequestForm extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            advance_data: getCookieData('salary_advance'),\n            one_advance: [],\n            employee_list: [],\n            selected_employee: [],\n            employee_name: '',\n            department: '',\n            location: '',\n            requested_amount: 0,\n            purpose: '',\n            duration: 0,\n            monthly_installment: 0,\n            approved_amount: 0,\n            verifier_comment: '',\n            sataus: 0,\n            created_user: getUserId(\"user_info=\")\n        }\n    }\n\n    componentDidMount() {\n        if (this.state.advance_data !== null) {\n            this.getSalaryAdvance(this.state.advance_data);\n        }\n        // this.getEmployeeList();\n    }\n\n    getSalaryAdvance(data) {\n        fetch(`${main_url}salary_advance/getOneSalaryAdvance/advance_id=${data.salary_advance_id}`)\n            .then(res => res.json())\n            .then(list => {\n                var one = list[0];\n                this.setState({\n                    one_advance: one,\n                    employee_name: one.employee_name,\n                    requested_amount: one.requested_amount,\n                    purpose: one.purpose,\n                    department: one.department,\n                    // selected_employee: { label: one.employee_name, value: one.user_id },\n                    location: one.location,\n                    salary: one.salary,\n                    verifier_comment: one.verifier_comment,\n                    approved_amount: one.approved_amount,\n                    duration: one.duration,\n                    monthly_installment: one.monthly_installment\n\n                })\n            })\n\n    }\n\n    getEmployeeList() {\n        fetch(`${main_url}staff_loan/getEmployeeList`)\n            .then(res => { if (res.ok) return res.json() })\n            .then(list => {\n                this.setState({\n                    employee_list: list\n                })\n            })\n    }\n\n    save(action_status) {\n        let createdBy = this.state.created_user;\n        let updatedBy = this.state.created_user;\n        let one_advance = this.state.one_advance;\n        let path = 'saveSalaryAdvance';\n        if (!Array.isArray(one_advance)) {\n            createdBy = one_advance.createdBy;\n            path = `editSalaryAdvance/advance_id=${one_advance.salary_advance_id}`\n        }\n        var action = getActionStatus(action_status, one_advance, createdBy);\n        var data = {\n            user_id: one_advance.user_id,\n            requested_amount: this.state.requested_amount,\n            purpose: this.state.purpose,\n            duration: this.state.duration,\n            monthly_installment: this.state.monthly_installment,\n            approved_amount: this.state.approved_amount,\n            verifier_comment: this.state.verifier_comment,\n            createdBy: createdBy,\n            updatedBy: updatedBy,\n            status: action.status,\n            checked_by: action.checked_by,\n            verified_by: action.verified_by,\n            approved_by: action.approved_by,\n            rejected_by: action.rejected_by\n        };\n        let status = 0;\n        fetch(`${main_url}salary_advance/${path}`, {\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded'\n            },\n            method: 'POST',\n            body: `advance=${JSON.stringify(data)}`\n        })\n            .then(res => {\n                status = res.status;\n                return res.text()\n            })\n            .then(text => {\n                if (status === 200) {\n                    toast.success(text);\n                    // window.location.replace('/staff_loan_repayment');\n                }\n                else toast.error(text);\n\n\n            })\n    }\n\n    render() {\n        return (\n            <div className='container staff_loan main-container'>\n                <ToastContainer position={toast.POSITION.TOP_RIGHT} />\n                <div className='row m-b-10'>\n                    <div className=\"col-sm-6 col-lg-6\">\n                        <h2>Salary Advance View</h2>\n                    </div>\n                    <div className=\"col-sm-6 col-lg-6\">\n                        <Link to=\"/salary_advance\">\n                            <button className=\"btn btn-primary title_float_btn\">\n                                <span className=\"add_new_icon\"></span>\n                                Back To List\n                                    </button>\n                        </Link>\n                    </div>\n                </div>\n                <div className=\"content\">\n                    <div className=\"row\">\n                        <div className=\"col-12 col-sm-6 col-lg-6 col-xl-6\">\n                            <label>Employee Name</label>\n                            {/* <Select\n                                options={employee_list}\n                                value={selected_employee}\n                                onChange={(e) => this.setState({ selected_employee: e })}\n                            /> */}\n                            <input className=\"full_width\" type=\"text\" value={this.state.employee_name} onChange={(e) => this.setState({ employee_name: e.target.value })} disabled></input>\n                        </div>\n                        <div className=\"col-12 col-sm-6 col-lg-6 col-xl-6\">\n                            <label>Department</label>\n                            <input className=\"full_width\" type=\"text\" value={this.state.department} onChange={(e) => this.setState({ requested_amount: e.target.value })} disabled></input>\n                        </div>\n                    </div>\n                    <div className=\"row margin-top-20\">\n                        <div className=\"col-12 col-sm-6 col-lg-6 col-xl-6\">\n                            <label>Location</label>\n                            <input className=\"full_width\" type=\"text\" value={this.state.location} onChange={(e) => this.setState({ requested_amount: e.target.value })} disabled></input>\n                        </div>\n                        <div className=\"col-12 col-sm-6 col-lg-6 col-xl-6\">\n                            <label>Monthly Salary</label>\n                            <input className=\"full_width\" type=\"number\" step={0.01} min={0} value={this.state.salary} onChange={(e) => this.setState({ salary: e.target.value })} disabled></input>\n                        </div>\n                    </div>\n                    <div className=\"row margin-top-20\">\n                        <div className=\"col-12 col-sm-6 col-lg-6 col-xl-6\">\n                            <label>Requested Amount</label>\n                            <input className=\"full_width\" type=\"number\" step={0.01} min={0} value={this.state.requested_amount} onChange={(e) => this.setState({ requested_amount: e.target.value })}></input>\n                        </div>\n                        <div className=\"col-12 col-sm-6 col-lg-6 col-xl-6\">\n                            <label>Approved Amount</label>\n                            <input className=\"full_width\" type=\"number\" step={0.01} min={0} value={this.state.approved_amount} onChange={(e) => this.setState({ approved_amount: e.target.value })}></input>\n                        </div>\n                    </div>\n                    <div className=\"row margin-top-20\">\n                        <div className=\"col-12 col-sm-6 col-lg-6 col-xl-6\">\n                            <label>Duration</label>\n                            <input className=\"full_width\" type=\"number\" step={0.01} min={0} value={this.state.duration} onChange={(e) => this.setState({ duration: e.target.value })}></input>\n                        </div>\n                        <div className=\"col-12 col-sm-6 col-lg-6 col-xl-6\">\n                            <label>Monthly Installment</label>\n                            <input className=\"full_width\" type=\"number\" step={0.01} min={0} value={this.state.monthly_installment} onChange={(e) => this.setState({ monthly_installment: e.target.value })}></input>\n                        </div>\n                    </div>\n                    <div className=\"row margin-top-20\">\n                        <div className=\"col-12 col-sm-6 col-lg-6 col-xl-6\">\n                            <label>Purpose</label>\n                            <input className=\"full_width\" type=\"textarea\" value={this.state.purpose} onChange={(e) => this.setState({ purpose: e.target.value })}></input>\n                        </div>\n                        <div className=\"col-12 col-sm-6 col-lg-6 col-xl-6\">\n                            <label>Verifier Comment</label>\n                            <input className=\"full_width\" type=\"textarea\" value={this.state.verifier_comment} onChange={(e) => this.setState({ verifier_comment: e.target.value })}></input>\n                        </div>\n                    </div>\n                    <div className=\"row m-20 f-right\">\n                        {/* <div className=\"col-12 col-sm-6 col-lg-3 col-xl-3\"> */}\n                        {/* <button className=\"btn btn-primary m-r-10\"><i className=\"fa fa-check\"></i> Check By</button> */}\n                        {/* </div> */}\n                        {/* <div className=\"col-12 col-sm-6 col-lg-3 col-xl-3\"> */}\n                        <button className=\"btn btn_verified\" onClick={this.save.bind(this, \"verified\")}><i className=\"fa fa-check\"></i> Verify By</button>\n                        {/* </div> */}\n                        {/* <div className=\"col-12 col-sm-6 col-lg-3 col-xl-3\"> */}\n                        <button className=\"btn btn_approved\" onClick={this.save.bind(this, \"approved\")}><i className=\"fa fa-check\"></i> Approve By</button>\n                        {/* </div> */}\n                        {/* <div className=\"col-12 col-sm-6 col-lg-3 col-xl-3\"> */}\n                        <button className=\"btn btn_reject\" onClick={this.save.bind(this, \"rejected\")}><i className=\"fa fa-times\"></i> Rejected By</button>\n                        {/* </div> */}\n\n                    </div>\n\n                    {/* <div className=\"row m-20 f-right\">\n                        <a href=\"/staff_loan_repayment\"><button className=\"btn btn-success m-r-10\">Cancel</button></a>\n                        <button className=\"btn btn-primary\" onClick={this.save.bind(this)}>Save</button>\n                    </div> */}\n                </div>\n            </div>\n        )\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}