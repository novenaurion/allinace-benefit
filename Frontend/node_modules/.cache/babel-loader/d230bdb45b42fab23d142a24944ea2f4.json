{"ast":null,"code":"var _jsxFileName = \"/home/ram/Desktop/Alliance(HRMS)/Frontend/src/components/Allowance/StaffLoan/RepaymentSchedule.jsx\";\nimport React, { Component } from 'react';\nimport Select from 'react-select';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { main_url, getUserInfo, getUserId } from '../../../utils/CommonFunction';\nimport 'datatables.net-bs4/css/dataTables.bootstrap4.min.css';\nimport 'datatables.net-responsive-bs4/css/responsive.bootstrap4.min.css';\nimport 'datatables.net-buttons';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst $ = require('jquery');\n\n$.DataTable = require('datatables.net-bs4');\n$.DataTable = require('datatables.net-responsive-bs4');\nexport default class ApplyForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      schedule_list: [],\n      one_schedule: [],\n      new_schedule: false\n    };\n  }\n\n  componentDidMount() {\n    getUserInfo();\n    var that = this;\n    this.getScheduleList();\n    $('#dataTables').on('click', '#toEdit', function () {\n      var data = $(this).find('#edit').text();\n      that.setState({\n        new_schedule: true,\n        one_schedule: JSON.parse(data)\n      });\n    });\n    $('#dataTables').on('click', '#toRemove', function () {\n      var data = $(this).find('#remove').text();\n      that.setState({\n        one_schedule: JSON.parse(data)\n      });\n    });\n  }\n\n  getScheduleList() {\n    fetch(\"\".concat(main_url, \"staff_loan/getScheduleList\")).then(res => res.json()).then(data => {\n      this.showTable(data);\n      this.setState({\n        schedule_list: data\n      });\n    });\n  }\n\n  showTable(data) {\n    var table;\n    var list = [];\n    var obj = [];\n\n    if ($.fn.dataTable.isDataTable('#dataTables')) {\n      table = $('#dataTables').dataTable();\n      table.fnClearTable();\n      table.fnDestroy();\n      $('#dataTables').empty();\n    }\n\n    for (let i = 0; i < data.length; i++) {\n      obj = data[i];\n      list.push({\n        employee_name: obj.employee_name,\n        employment_id: obj.employment_id,\n        amount: obj.amount,\n        installment_amount: obj.installment_amount,\n        installment_date: obj.installment_date,\n        kantkaw_account: obj.kantkaw_account,\n        action: '<button style=\"margin-right:10px\" class=\"btn btn-primary btn-sm own-btn-edit\" id=\"toEdit\" ><span id=\"edit\" class=\"hidden\" >' + JSON.stringify(obj) + '</span>  <i className=\"fa fa-cogs\"></i>&nbsp;Edit</button>' + '<button style=\"margin-right:10px\" class=\"btn btn-danger btn-sm own-btn-edit\" id=\"toRemove\" data-toggle=\"modal\" data-target=\"#deleteModal\"><span id=\"remove\" class=\"hidden\" >' + JSON.stringify(obj) + '</span>  <i className=\"fa fa-cogs\"></i>&nbsp;Remove</button>'\n      });\n    }\n\n    table = $(\"#dataTables\").DataTable({\n      autofill: false,\n      bLengthChange: false,\n      bInfo: false,\n      responsive: true,\n      paging: false,\n      buttons: false,\n      data: list,\n      columns: [{\n        title: \"Employee Name\",\n        data: \"employee_name\"\n      }, {\n        title: \"Employee ID\",\n        data: \"employment_id\"\n      }, {\n        title: \"Amount\",\n        data: \"amount\"\n      }, {\n        title: \"Installment Amount\",\n        data: \"installment_amount\"\n      }, {\n        title: \"Installment Date\",\n        data: \"installment_date\"\n      }, {\n        title: \"Kant Kaw Account\",\n        data: \"kantkaw_account\"\n      }, {\n        title: \"Action\",\n        data: \"action\"\n      }]\n    });\n  }\n\n  deleteConfirm() {\n    let id = this.state.one_schedule.schedule_id;\n    fetch(\"\".concat(main_url, \"staff_loan/deleteSchedule\"), {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      method: 'POST',\n      body: \"id=\".concat(id)\n    }).then(res => res.text()).then(text => {\n      if (text === 'Success!') {\n        toast.success('Deleting the information is successful!');\n        window.location.reload();\n      } else {\n        toast.error('Something is wrong!');\n      }\n    });\n  }\n\n  render() {\n    return this.state.new_schedule ? React.createElement(NewRepaymentSchedule, {\n      one_schedule: this.state.one_schedule,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }) : React.createElement(\"div\", {\n      className: \"container staff-loan main-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row m-b-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-6 col-lg-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"Repayment Schedule List\")), React.createElement(\"div\", {\n      className: \"col-sm-6 col-lg-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-success title_float_btn\",\n      onClick: e => this.setState({\n        new_schedule: true\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"add_new_icon\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-plus-square\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    })), \"Add New\"))), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"table table-striped table-bordered table-hover responsive nowrap dt-responsive\",\n      id: \"dataTables\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"modal fade\",\n      id: \"deleteModal\",\n      role: \"dialog\",\n      \"aria-labelledby\": \"exampleModalLabel\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-dialog\",\n      role: \"document\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"modal-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"modal-title\",\n      id: \"exampleModalLabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, \"Confirmation\"), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"close\",\n      \"data-dismiss\": \"modal\",\n      \"aria-label\": \"Close\",\n      style: {\n        marginTop: '-30px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"\\xD7\"))), React.createElement(\"div\", {\n      className: \"modal-body \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-exclamation-triangle fa-2x\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    }, \"Are you sure you want to delete this schedule? \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }), \"You can't undo this action.\")))), React.createElement(\"div\", {\n      className: \"modal-footer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-primary\",\n      \"data-dismiss\": \"modal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \"No\"), React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-danger delete-width\",\n      \"data-dismiss\": \"modal\",\n      onClick: this.deleteConfirm.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"Yes\"))))));\n  }\n\n}\n\nclass NewRepaymentSchedule extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      employee_list: [],\n      selected_employee: [],\n      one_schedule: this.props.one_schedule,\n      amount: 0,\n      installment_amount: 0,\n      installment_date: new Date(),\n      kantkaw_account: \"\",\n      created_user: getUserId(\"user_info=\")\n    };\n  }\n\n  componentDidMount() {\n    if (!Array.isArray(this.state.one_schedule)) {\n      this.setSchedule(this.state.one_schedule);\n    }\n\n    this.getEmployeeList();\n  }\n\n  setSchedule(one) {\n    this.setState({\n      amount: one.amount,\n      installment_amount: one.installment_amount,\n      installment_date: one.installment_date,\n      kantkaw_account: one.kantkaw_account,\n      selected_employee: {\n        label: one.employee_name,\n        value: one.user_id,\n        employment_id: one.employment_id\n      }\n    });\n  }\n\n  getEmployeeList() {\n    fetch(\"\".concat(main_url, \"staff_loan/getEmployeeList\")).then(res => {\n      if (res.ok) return res.json();\n    }).then(list => {\n      this.setState({\n        employee_list: list\n      });\n    });\n  }\n\n  save() {\n    let createdBy = this.state.created_user;\n    let updatedBy = this.state.created_user;\n    let path = 'saveSchedule';\n\n    if (!Array.isArray(this.state.one_schedule)) {\n      createdBy = this.state.one_schedule.createdBy;\n      path = \"editSchedule/\".concat(this.state.one_schedule.schedule_id);\n    }\n\n    var data = {\n      user_id: this.state.selected_employee.value,\n      amount: this.state.amount,\n      installment_amount: this.state.installment_amount,\n      installment_date: this.state.installment_date,\n      kantkaw_account: this.state.kantkaw_account,\n      createdBy: createdBy,\n      updatedBy: updatedBy\n    };\n    let status = 0;\n    fetch(\"\".concat(main_url, \"staff_loan/\").concat(path), {\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded'\n      },\n      method: 'POST',\n      body: \"schedule=\".concat(JSON.stringify(data))\n    }).then(res => {\n      status = res.status;\n      return res.text();\n    }).then(text => {\n      if (status === 200) {\n        toast.success(text);\n        window.location.replace('/staff_loan_repayment');\n      } else toast.error(text);\n    });\n  }\n\n  render() {\n    let _this$state = this.state,\n        employee_list = _this$state.employee_list,\n        selected_employee = _this$state.selected_employee;\n    return React.createElement(\"div\", {\n      className: \"container staff_loan main-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, React.createElement(ToastContainer, {\n      position: toast.POSITION.TOP_RIGHT,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }), React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, \"New Repayment Schedule\"), React.createElement(\"div\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-12 col-sm-6 col-lg-6 col-xl-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, \"Employee Name\"), React.createElement(Select, {\n      options: employee_list,\n      value: selected_employee,\n      onChange: e => this.setState({\n        selected_employee: e\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-12 col-sm-6 col-lg-6 col-xl-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, \"Employee ID\"), React.createElement(\"input\", {\n      className: \"full_width\",\n      type: \"text\",\n      value: !Array.isArray(selected_employee) ? selected_employee.employment_id : \"\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row margin-top-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-12 col-sm-6 col-lg-6 col-xl-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, \"Amount\"), React.createElement(\"input\", {\n      className: \"full_width\",\n      type: \"number\",\n      min: 0,\n      value: this.state.amount,\n      onChange: e => this.setState({\n        amount: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-12 col-sm-6 col-lg-6 col-xl-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }, \"Installment Amount\"), React.createElement(\"input\", {\n      className: \"full_width\",\n      type: \"number\",\n      value: this.state.installment_amount,\n      min: 0,\n      onChange: e => this.setState({\n        installment_amount: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row margin-top-20\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-12 col-sm-6 col-lg-6 col-xl-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, \"Installment Date\"), React.createElement(\"input\", {\n      className: \"full_width\",\n      type: \"date\",\n      value: this.state.installment_date,\n      onChange: e => this.setState({\n        installment_date: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-12 col-sm-6 col-lg-6 col-xl-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, \"Kant Kaw Account\"), React.createElement(\"input\", {\n      className: \"full_width\",\n      type: \"text\",\n      value: this.state.kantkaw_account,\n      onChange: e => this.setState({\n        kantkaw_account: e.target.value\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row m-20 f-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"/staff_loan_repayment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn btn-success m-r-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305\n      },\n      __self: this\n    }, \"Cancel\")), React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: this.save.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }, \"Save\"))));\n  }\n\n}","map":{"version":3,"sources":["/home/ram/Desktop/Alliance(HRMS)/Frontend/src/components/Allowance/StaffLoan/RepaymentSchedule.jsx"],"names":["React","Component","Select","ToastContainer","toast","main_url","getUserInfo","getUserId","$","require","DataTable","ApplyForm","constructor","props","state","schedule_list","one_schedule","new_schedule","componentDidMount","that","getScheduleList","on","data","find","text","setState","JSON","parse","fetch","then","res","json","showTable","table","list","obj","fn","dataTable","isDataTable","fnClearTable","fnDestroy","empty","i","length","push","employee_name","employment_id","amount","installment_amount","installment_date","kantkaw_account","action","stringify","autofill","bLengthChange","bInfo","responsive","paging","buttons","columns","title","deleteConfirm","id","schedule_id","headers","method","body","success","window","location","reload","error","render","e","marginTop","bind","NewRepaymentSchedule","employee_list","selected_employee","Date","created_user","Array","isArray","setSchedule","getEmployeeList","one","label","value","user_id","ok","save","createdBy","updatedBy","path","status","replace","POSITION","TOP_RIGHT","target"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport Select from 'react-select';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { main_url, getUserInfo, getUserId } from '../../../utils/CommonFunction';\nimport 'datatables.net-bs4/css/dataTables.bootstrap4.min.css';\nimport 'datatables.net-responsive-bs4/css/responsive.bootstrap4.min.css';\nimport 'datatables.net-buttons';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst $ = require('jquery');\n$.DataTable = require('datatables.net-bs4');\n$.DataTable = require('datatables.net-responsive-bs4');\n\nexport default class ApplyForm extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            schedule_list: [],\n            one_schedule: [],\n            new_schedule: false\n        }\n    }\n\n    componentDidMount() {\n        getUserInfo();\n        var that = this;\n        this.getScheduleList();\n        $('#dataTables').on('click', '#toEdit', function () {\n            var data = $(this).find('#edit').text();\n            that.setState({\n                new_schedule: true,\n                one_schedule: JSON.parse(data)\n            })\n        })\n\n        $('#dataTables').on('click', '#toRemove', function () {\n            var data = $(this).find('#remove').text();\n            that.setState({\n                one_schedule: JSON.parse(data)\n            })\n        })\n    }\n\n    getScheduleList() {\n        fetch(`${main_url}staff_loan/getScheduleList`)\n            .then(res => res.json())\n            .then(data => {\n                this.showTable(data);\n                this.setState({\n                    schedule_list: data\n                })\n            })\n    }\n\n    showTable(data) {\n        var table;\n        var list = [];\n        var obj = [];\n\n        if ($.fn.dataTable.isDataTable('#dataTables')) {\n            table = $('#dataTables').dataTable();\n            table.fnClearTable();\n            table.fnDestroy();\n            $('#dataTables').empty();\n        }\n\n        for (let i = 0; i < data.length; i++) {\n            obj = data[i];\n            list.push({\n                employee_name: obj.employee_name,\n                employment_id: obj.employment_id,\n                amount: obj.amount,\n                installment_amount: obj.installment_amount,\n                installment_date: obj.installment_date,\n                kantkaw_account: obj.kantkaw_account,\n                action: '<button style=\"margin-right:10px\" class=\"btn btn-primary btn-sm own-btn-edit\" id=\"toEdit\" ><span id=\"edit\" class=\"hidden\" >' + JSON.stringify(obj) + '</span>  <i className=\"fa fa-cogs\"></i>&nbsp;Edit</button>' +\n                    '<button style=\"margin-right:10px\" class=\"btn btn-danger btn-sm own-btn-edit\" id=\"toRemove\" data-toggle=\"modal\" data-target=\"#deleteModal\"><span id=\"remove\" class=\"hidden\" >' + JSON.stringify(obj) + '</span>  <i className=\"fa fa-cogs\"></i>&nbsp;Remove</button>'\n            })\n        }\n        table = $(\"#dataTables\").DataTable({\n            autofill: false,\n            bLengthChange: false,\n            bInfo: false,\n            responsive: true,\n            paging: false,\n            buttons: false,\n            data: list,\n            columns: [\n                { title: \"Employee Name\", data: \"employee_name\" },\n                { title: \"Employee ID\", data: \"employment_id\" },\n                { title: \"Amount\", data: \"amount\" },\n                { title: \"Installment Amount\", data: \"installment_amount\" },\n                { title: \"Installment Date\", data: \"installment_date\" },\n                { title: \"Kant Kaw Account\", data: \"kantkaw_account\" },\n                { title: \"Action\", data: \"action\" }\n            ]\n        })\n    }\n\n    deleteConfirm() {\n        let id = this.state.one_schedule.schedule_id;\n        fetch(`${main_url}staff_loan/deleteSchedule`, {\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded'\n            },\n            method: 'POST',\n            body: `id=${id}`\n        })\n            .then(res => res.text())\n            .then(text => {\n                if (text === 'Success!') {\n                    toast.success('Deleting the information is successful!');\n                    window.location.reload();\n                }\n                else {\n                    toast.error('Something is wrong!')\n                }\n            })\n    }\n\n    render() {\n        return (\n            this.state.new_schedule ?\n                <NewRepaymentSchedule one_schedule={this.state.one_schedule} />\n                :\n                <div className=\"container staff-loan main-container\">\n                    <div className=\"content\">\n                        <div className=\"row m-b-10\">\n                            <div className=\"col-sm-6 col-lg-6\">\n                                <h2>Repayment Schedule List</h2>\n                            </div>\n                            <div className=\"col-sm-6 col-lg-6\">\n                                <button className=\"btn btn-success title_float_btn\" onClick={(e) => this.setState({ new_schedule: true })}>\n                                    <span className=\"add_new_icon\"><i className=\"fa fa-plus-square\"></i></span>\n                                    Add New\n                                    </button>\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <table className=\"table table-striped table-bordered table-hover responsive nowrap dt-responsive\"\n                                id=\"dataTables\"\n                            />\n                        </div>\n                    </div>\n                    <div className=\"modal fade\" id=\"deleteModal\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\"\n                        aria-hidden=\"true\">\n                        <div className=\"modal-dialog\" role=\"document\">\n                            <div className=\"modal-content\">\n                                <div className=\"modal-header\" >\n                                    <h3 className=\"modal-title\" id=\"exampleModalLabel\">Confirmation</h3>\n                                    <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" style={{ marginTop: '-30px' }}>\n                                        <span aria-hidden=\"true\">&times;</span>\n                                    </button>\n                                </div>\n                                <div className=\"modal-body \">\n                                    <div>\n                                        <div>\n                                            <i className=\"fa fa-exclamation-triangle fa-2x\"></i>\n                                        </div>\n                                        <div>\n                                            <p>\n                                                Are you sure you want to delete this schedule? <br></br>\n                                                You can't undo this action.</p>\n                                        </div>\n                                    </div>\n                                </div>\n                                <div className=\"modal-footer\" >\n                                    <button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\">No</button>\n                                    <button type=\"button\" className=\"btn btn-danger delete-width\" data-dismiss=\"modal\" onClick={this.deleteConfirm.bind(this)}>Yes</button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n        )\n    }\n}\n\nclass NewRepaymentSchedule extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            employee_list: [],\n            selected_employee: [],\n            one_schedule: this.props.one_schedule,\n            amount: 0,\n            installment_amount: 0,\n            installment_date: new Date(),\n            kantkaw_account: \"\",\n            created_user: getUserId(\"user_info=\")\n        }\n    }\n\n    componentDidMount() {\n        if (!Array.isArray(this.state.one_schedule)) {\n            this.setSchedule(this.state.one_schedule);\n        }\n        this.getEmployeeList();\n    }\n\n    setSchedule(one) {\n        this.setState({\n            amount: one.amount,\n            installment_amount: one.installment_amount,\n            installment_date: one.installment_date,\n            kantkaw_account: one.kantkaw_account,\n            selected_employee: { label: one.employee_name, value: one.user_id, employment_id: one.employment_id }\n        })\n    }\n\n    getEmployeeList() {\n        fetch(`${main_url}staff_loan/getEmployeeList`)\n            .then(res => { if (res.ok) return res.json() })\n            .then(list => {\n                this.setState({\n                    employee_list: list\n                })\n            })\n    }\n\n    save() {\n        let createdBy = this.state.created_user;\n        let updatedBy = this.state.created_user;\n        let path = 'saveSchedule';\n        if (!Array.isArray(this.state.one_schedule)) {\n            createdBy = this.state.one_schedule.createdBy;\n            path = `editSchedule/${this.state.one_schedule.schedule_id}`\n        }\n        var data = {\n            user_id: this.state.selected_employee.value,\n            amount: this.state.amount,\n            installment_amount: this.state.installment_amount,\n            installment_date: this.state.installment_date,\n            kantkaw_account: this.state.kantkaw_account,\n            createdBy: createdBy,\n            updatedBy: updatedBy\n        }\n        let status = 0;\n        fetch(`${main_url}staff_loan/${path}`, {\n            headers: {\n                'Content-Type': 'application/x-www-form-urlencoded'\n            },\n            method: 'POST',\n            body: `schedule=${JSON.stringify(data)}`\n        })\n            .then(res => {\n                status = res.status;\n                return res.text()\n            })\n            .then(text => {\n                if (status === 200) {\n                    toast.success(text);\n                    window.location.replace('/staff_loan_repayment');\n                }\n                else toast.error(text);\n\n\n            })\n    }\n\n    render() {\n        let { employee_list, selected_employee } = this.state;\n        return (\n            <div className='container staff_loan main-container'>\n                <ToastContainer position={toast.POSITION.TOP_RIGHT} />\n                <h2>New Repayment Schedule</h2>\n                <div className=\"content\">\n                    <div className=\"row\">\n                        <div className=\"col-12 col-sm-6 col-lg-6 col-xl-6\">\n                            <label>Employee Name</label>\n                            <Select\n                                options={employee_list}\n                                value={selected_employee}\n                                onChange={(e) => this.setState({ selected_employee: e })}\n                            />\n                        </div>\n                        <div className=\"col-12 col-sm-6 col-lg-6 col-xl-6\">\n                            <label>Employee ID</label>\n                            <input className=\"full_width\" type=\"text\" value={!Array.isArray(selected_employee) ? selected_employee.employment_id : \"\"} disabled></input>\n                        </div>\n                    </div>\n                    <div className=\"row margin-top-20\">\n                        <div className=\"col-12 col-sm-6 col-lg-6 col-xl-6\">\n                            <label>Amount</label>\n                            <input className=\"full_width\" type=\"number\" min={0} value={this.state.amount} onChange={(e) => this.setState({ amount: e.target.value })}></input>\n                        </div>\n                        <div className=\"col-12 col-sm-6 col-lg-6 col-xl-6\">\n                            <label>Installment Amount</label>\n                            <input className=\"full_width\" type=\"number\" value={this.state.installment_amount} min={0} onChange={(e) => this.setState({ installment_amount: e.target.value })}></input>\n                        </div>\n                    </div>\n                    <div className=\"row margin-top-20\">\n                        <div className=\"col-12 col-sm-6 col-lg-6 col-xl-6\">\n                            <label>Installment Date</label>\n                            <input className=\"full_width\" type=\"date\" value={this.state.installment_date} onChange={(e) => this.setState({ installment_date: e.target.value })}></input>\n                        </div>\n                        <div className=\"col-12 col-sm-6 col-lg-6 col-xl-6\">\n                            <label>Kant Kaw Account</label>\n                            <input className=\"full_width\" type=\"text\" value={this.state.kantkaw_account} onChange={(e) => this.setState({ kantkaw_account: e.target.value })}></input>\n                        </div>\n                    </div>\n                    <div className=\"row m-20 f-right\">\n                        <a href=\"/staff_loan_repayment\"><button className=\"btn btn-success m-r-10\">Cancel</button></a>\n                        <button className=\"btn btn-primary\" onClick={this.save.bind(this)}>Save</button>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}